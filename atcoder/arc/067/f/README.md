# AtCoder Regular Contest 067

## [WA][ARC067] F - Yakiniku Restaurants

### 方針

焼肉屋を回る順番に決まりはないので、番号の若い順に訪れればいい移動距離は最小になる。したがって、「移動した距離の合計」は右端の焼肉屋iと左端の焼肉屋jをどれにするかで決まる。

各チケットごとに効用最大の店をi〜jの中から選ぶのに、M 個の RMQ を使って O( M log N )。 (i, j) の組み合わせを全探索すると O( N^2 )。よってこの方法だと O( N^2 M log N ) となる。


以下、WA の方針。

(i, j) の組み合わせを全探索ではなく、尺取法を使ったら O( N M log N ) にならないかと思ったが、WA。


### 計算量

O( M N log N )


### keywords

